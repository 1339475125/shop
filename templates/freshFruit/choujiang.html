{%extends 'freshFruit/base_index.html'%}{% load static from staticfiles %}{% block top %}{% endblock top %}{% block menu %}{% endblock menu %}{%block title%}天天生鲜-抽奖系统{%endblock%}{%block content%}	<style>	*{padding:0;margin:0}	body{		text-align:center	}	.ly-plate{		position:relative;		width:509px;		height:509px;		margin: 50px auto;	}	.rotate-bg{		width:509px;		height:509px;		background:url(/static/images/ly-plate.png);		position:absolute;		top:0;		left:0	}	.ly-plate div.lottery-star{		width:214px;		height:214px;		position:absolute;		top:150px;		left:147px;		outline:none	}	.ly-plate div.lottery-star #lotteryBtn{		cursor: pointer;		position: absolute;		top:0;		left:0;		*left:-107px	}</style></head><body>	<div class="header_con">		<div class="header">			<div class="welcome fl" style="color:red;">欢迎来到天天生鲜!</div>			<div class="welcome fr">					<a href="javascript:;" style="cursor:default; color:red;">全心全意为广大顾客提供最放心的产品！！</a>				</div>			</div>		</div>			</div>	<div class="search_bar clearfix">		<a href="{% url 'index:indexPage' %}" class="logo fl"><img src="/static/images/logo.png"></a>		<div class="search_con fl">			<form action="/search/" target="_blank">				<input type="text" class="input_text fl" name="q" placeholder="搜索商品">				<input type="submit" class="input_btn fr" name="" value="搜索">			</form>		</div>		<div class="guest_cart fr">			<a href="{% url 'cart:cart' %}" class="cart_name fl">我的购物车</a>		</div>	</div>	<div class="ly-plate">		<div class="rotate-bg"></div>		<div class="lottery-star"><img src="/static/images/rotate-static.png" id="lotteryBtn"></div>	</div></body><script src="/static/js/jquery-1.12.4.min.js"></script><script src="/static/js/jQueryRotate.2.2.js"></script><script src="/static/js/jquery.easing.min.js"></script><script>$(function(){	var timeOut = function(){  //超时函数		$("#lotteryBtn").rotate({			angle:0, 			duration: 10000, 			animateTo: 2160, //这里是设置请求超时后返回的角度，所以应该还是回到最原始的位置，2160是因为我要让它转6圈，就是360*6得来的			callback:function(){				alert('很遗憾，这次您未抽中奖！！！')			}		}); 	}; 	var rotateFunc = function(awards,angle,text){  //awards:奖项，angle:奖项对应的角度		$('#lotteryBtn').stopRotate();		$("#lotteryBtn").rotate({			angle:0, 			duration: 5000, 			animateTo: angle+1440, //angle是图片上各奖项对应的角度，1440是我要让指针旋转4圈。所以最后的结束的角度就是这样子^^			callback:function(){				alert(text)			}		}); 	};		$("#lotteryBtn").rotate({ 	   bind: 		 { 			click: function(){				var time = [0,1];					time = time[Math.floor(Math.random()*time.length)];				if(time==0){					timeOut(); //网络超时				}				if(time==1){					var data = [1,2,3,0]; //返回的数组						data = data[Math.floor(Math.random()*data.length)];					if(data==1){						rotateFunc(1,157,'恭喜您抽中的一等奖')					}					if(data==2){						rotateFunc(2,247,'恭喜您抽中的二等奖')					}					if(data==3){						rotateFunc(3,22,'恭喜您抽中的三等奖')					}					if(data==0){						var angle = [67,112,202,292,337];							angle = angle[Math.floor(Math.random()*angle.length)]						rotateFunc(0,angle,'很遗憾，这次您未抽中奖')					}				}			}		 } 	});})</script>{%endblock%}{% block navlist %}{% endblock %}	